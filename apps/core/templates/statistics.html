{% extends 'main.html' %}
{% block content %}

<a class="btn btn-md btn-outline-primary btn-block" href="/">Voltar</a>

{% comment %} <div>
    <p>Quais estatísticas deseja calcular?</p>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" id="mean" value="option1">
        <label class="form-check-label" for="mean">Média</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" id="median" value="option2">
        <label class="form-check-label" for="median">Mediana</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" id="mode" value="option2">
        <label class="form-check-label" for="mode">Moda</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" id="variance" value="option2">
        <label class="form-check-label" for="variance">Variância</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" id="stdesviation" value="option2">
        <label class="form-check-label" for="stdesviation">Desvio padrão</label>
    </div>
</div> {% endcomment %}


<br>
<br>
<div class="table-responsive">
<table class="table table-striped">
  <thead>
    <tr>
      <th scope="col">#</th>
      {% for col in columns_num %}
             <th scope="col">{{ col }}</th>
    {% endfor %}
    </tr>
  </thead>
  <tbody>
    <tr>
        <th scope="row">Médias</th>
        {% for value in mean %}
            <td>{{ value | floatformat:2 }}</td>
        {% endfor %}
    </tr>
    <tr>
        <th scope="row">Mediana</th>
        {% for value in median %}
            <td>{{ value | floatformat:2 }}</td>
        {% endfor %}
    </tr>
    <tr>
        <th scope="row">Moda</th>
        {% for name, value in mode.items %}
            <td>{{ value }}</td>
        {% endfor %}
    </tr>
    <tr>
        <th scope="row">Variância</th>
        {% for value in variance %}
            <td>{{ value | floatformat:2 }}</td>
        {% endfor %}
    </tr>
    <tr>
        <th scope="row">Desvio Padrão</th>
        {% for value in std %}
            <td>{{ value | floatformat:2 }}</td>
        {% endfor %}
    </tr>
  </tbody>
</table>
</div>



<hr>
<h4>Gráficos</h4>

<div>
    <p>Qual gráfico deseja exibir?</p>
    <div class="form-check form-check-inline">
        <input class="form-check-input" name="graphs" type="radio" id="boxplot" value="option1" checked>
        <label class="form-check-label" for="boxplot">Boxplot</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" name="graphs" type="radio" id="histogram" value="option2">
        <label class="form-check-label" for="histogram">Histograma</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" name="graphs" type="radio" id="dispersion" value="option2">
        <label class="form-check-label" for="dispersion">Dispersão</label>
    </div>
    <div class="form-check form-check-inline">
        <input class="form-check-input" name="graphs" type="radio" id="heatmap" value="option2">
        <label class="form-check-label" for="heatmap">Heatmap</label>
    </div>
</div>

<br>
<div>
    <p>Quais estatísticas deseja calcular?</p>
    {% for coluna in columns_num %}
    <form action=".">
    <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" name="statistics_names" id="{{ coluna }}" value="{{ coluna }}">
        <label class="form-check-label" for="{{ coluna }}">{{ coluna }}</label>    
    </div>
    {% endfor %}
    <button class="btn btn-md btn-outline-primary btn-block" type="submit">Enviar</button>
    </form>
</div>



{% comment %} <h4>Médias</h4>
{% for name, value in mean.items %}
    <li>{{ name }}: {{ value | floatformat:2 }}</li>
{% endfor %}

<h4>Mediana</h4>
{% for name, value in median.items %}
    <li>{{ name }}: {{ value | floatformat:2 }}</li>
{% endfor %}

<h4>Moda</h4>
{% for name, value in mode.items %}
    <li>{{ name }}: {{ value }}</li>
{% endfor %}

<h4>Variância</h4>
{% for name, value in variance.items %}
    <li>{{ name }}: {{ value | floatformat:2 }}</li>
{% endfor %}

<h4>Desvio Padrão</h4>
{% for name, value in std.items %}
    <li>{{ name }}: {{ value | floatformat:2 }}</li>
{% endfor %} {% endcomment %}


{% autoescape off %}{{ boxplot }}{% endautoescape %}
{% autoescape off %}{{ histogram }}{% endautoescape %}
{% autoescape off %}{{ heatmap }}{% endautoescape %}

<form method='post' action="." class="row g-3">        
    {% csrf_token %}
    <div class="col-md-3">
        <label for="coluna1" class="form-label">Coluna 1</label>
        <select class="form-select" name="coluna1" required>
        {% for coluna in columns %}
            <option name="coluna1" value="{{ coluna }}">{{ coluna }}</option>
        {% endfor %}
        </select>
    </div>
    <div class="col-md-3">
        <label for="coluna2" class="form-label">Coluna 2</label>
        <select class="form-select" name="coluna2" required>
        {% for colunas in columns %}
            <option name="coluna2" value="{{ colunas }}">{{ colunas }}</option>
        {% endfor %}
        </select>
    </div>
    {{ columns.errors }}
    <div class="col-12">
        <button class="btn btn-primary" type="submit">Submit form</button>
    </div>
</form>


{% autoescape off %}{{ scatter }}{% endautoescape %}

{% endblock content %}